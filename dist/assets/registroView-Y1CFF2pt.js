import{r as n,c,t as w,a as h,b as e,w as b,d as i,v as d,F as y,o as m,e as C}from"./index-wMYhLIpZ.js";import{s as k,c as V,a as E}from"./firebase-qDc8tKtI.js";import"https://www.gstatic.com/firebasejs/9.6.2/firebase-app.js";import"https://www.gstatic.com/firebasejs/9.6.2/firebase-auth.js";import"https://www.gstatic.com/firebasejs/9.6.2/firebase-firestore.js";const I={key:0,class:"error-message bg-red-100 p-4 border border-red-300 rounded-md text-red-500 text-center mt-4 text-sm"},S={class:"container mx-auto mt-10"},U={key:0,class:"max-w-md mx-auto bg-white p-8 border rounded-lg shadow-lg"},B=e("h2",{class:"text-2xl font-semibold text-center mb-6"},"Iniciar Sesión",-1),D={class:"mb-4"},F=e("label",{for:"email",class:"block text-sm font-medium text-gray-600"},"Correo Electrónico:",-1),R={class:"mb-4"},N=e("label",{for:"password",class:"block text-sm font-medium text-gray-600"},"Contraseña:",-1),M=e("div",{class:"mb-4"},[e("button",{type:"submit",id:"loginButton",class:"w-full bg-green-500 text-white py-2 rounded-md hover:bg-green-600 focus:outline-none focus:border-green-700 focus:ring focus:ring-green-200"}," Iniciar Sesión ")],-1),L={key:1,class:"max-w-md mx-auto bg-white p-8 border rounded-lg shadow-lg"},P=e("h2",{class:"text-2xl font-semibold text-center mb-6"},"Registro",-1),T={class:"mb-4"},W=e("label",{for:"name",class:"block text-sm font-medium text-gray-600"},"Nombre:",-1),j={class:"mb-4"},q=e("label",{for:"email",class:"block text-sm font-medium text-gray-600"},"Correo Electrónico:",-1),z={class:"mb-4"},A=e("label",{for:"password",class:"block text-sm font-medium text-gray-600"},"Contraseña:",-1),G=e("div",{class:"mb-4"},[e("button",{type:"submit",id:"signupButton",class:"w-full bg-blue-500 text-white py-2 rounded-md hover:bg-blue-600 focus:outline-none focus:border-blue-700 focus:ring focus:ring-blue-200"}," Registrarse ")],-1),Y={__name:"registroView",setup(H){const t=n(""),s=n(""),a=n(""),l=n(""),v=n(!0),p=()=>{v.value=!1},g=()=>{v.value=!0},f=async u=>{u.preventDefault(),console.log("Correo Electrónico:",t.value),console.log("Contraseña:",s.value);try{await k(t.value,s.value),console.log("Inicio de sesión exitoso"),C.push("/inicio"),l.value=""}catch(o){console.error("Error al iniciar sesión:",o.message),l.value="Credenciales incorrectas. Por favor, inténtelo de nuevo.",t.value="",s.value=""}},x=async u=>{u.preventDefault(),console.log("Correo Electrónico:",t.value),console.log("Contraseña:",s.value),console.log("Nombre:",a.value);try{const o=await V(t.value,s.value,a.value);console.log("Registro exitoso");const _=o.user.uid;await E("espacios",_,{}),l.value=""}catch(o){console.error("Error al registrarse:",o.message),l.value="Error al registrarse. Por favor, inténtelo de nuevo.",t.value="",s.value="",a.value=""}};return(u,o)=>(m(),c(y,null,[l.value?(m(),c("div",I,w(l.value),1)):h("",!0),e("div",S,[v.value?(m(),c("div",U,[B,e("form",{onSubmit:b(f,["prevent"])},[e("div",D,[F,i(e("input",{"onUpdate:modelValue":o[0]||(o[0]=r=>t.value=r),type:"email",id:"email",name:"email",class:"mt-1 p-2 w-full border rounded-md"},null,512),[[d,t.value]])]),e("div",R,[N,i(e("input",{"onUpdate:modelValue":o[1]||(o[1]=r=>s.value=r),type:"password",id:"password",name:"password",class:"mt-1 p-2 w-full border rounded-md"},null,512),[[d,s.value]])]),M,e("div",{class:"text-center"},[e("button",{type:"button",class:"text-blue-500 hover:underline focus:outline-none",onClick:p},"Registrarse")])],32)])):(m(),c("div",L,[P,e("form",{onSubmit:b(x,["prevent"])},[e("div",T,[W,i(e("input",{"onUpdate:modelValue":o[2]||(o[2]=r=>a.value=r),type:"text",id:"name",name:"name",class:"mt-1 p-2 w-full border rounded-md"},null,512),[[d,a.value]])]),e("div",j,[q,i(e("input",{"onUpdate:modelValue":o[3]||(o[3]=r=>t.value=r),type:"email",id:"email",name:"email",class:"mt-1 p-2 w-full border rounded-md"},null,512),[[d,t.value]])]),e("div",z,[A,i(e("input",{"onUpdate:modelValue":o[4]||(o[4]=r=>s.value=r),type:"password",id:"password",name:"password",class:"mt-1 p-2 w-full border rounded-md"},null,512),[[d,s.value]])]),G,e("div",{class:"text-center"},[e("button",{type:"button",class:"text-blue-500 hover:underline focus:outline-none",onClick:g},"Volver a Inicio de Sesión")])],32)]))])],64))}};export{Y as default};
